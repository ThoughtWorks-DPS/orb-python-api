# src/commands/lint.yaml

description: |
  Python API lint:

  - Run pylint against lint-path. Default is  "./"
  - Run hadolint on dockerfile. Default is "./Dockerfile"

parameters:

  lint-path:
    description: path of python files to run pylint against
    type: string
    default: "."

  dockerfile:
    description: Name of dockerfile
    type: string
    default: Dockerfile

steps:
  - run:
      name: Pylint << parameters.lint-path >>
      command: pylint << parameters.lint-path >>
  - run:
      name: hadolint << parameters.dockerfile >>
      command: docker run --rm -i hadolint/hadolint < << parameters.dockerfile >>
