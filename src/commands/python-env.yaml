# src/commands/lint.yaml

description: test

parameters:

  virtualenv:
    description: use python virtual environment
    type: enum
    enum: ["pipenv", "none"]
    default: "none"

  install-dev:
    description: Install dev packages also. Not necessary if installed on executor
    type: boolean
    default: false

steps:
   - when:
      name: Use standard pipenv virtual env configuration
      condition:
        equal: [ "pipenv" , << parameters.virtualenv >> ]
      steps:
        - run:
            name: install required packages
            command: |
              pipenv lock <<#parameters.install-dev>>--dev<</parameters.install-dev>> -r > requirements.txt
              pip install -r requirements.txt
              pip list
