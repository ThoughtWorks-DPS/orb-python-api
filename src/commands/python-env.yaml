# src/commands/lint.yaml

description: test

parameters:

  virtualenv:
    description: use python virtual environment
    type: enum
    enum: ["pipenv", "none"]
    default: "none"

steps:
   - when:
      name: Use standard pipenv virtual env configuration
      condition:
        equal: [ "pipenv" , << parameters.virtualenv >> ]
      steps:
        - run:
            name: Create system venv and install dev packages
            command: |
              PIPENV_VENV_IN_PROJECT=1 pipenv install --dev
              echo "PATH=/.venv/bin:\$PATH" >> $BASH_ENV
